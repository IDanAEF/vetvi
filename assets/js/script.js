(()=>{"use strict";const e=e=>{function t(e){let t="+7 (___) ___-__-__",a=0,c=t.replace(/\D/g,""),o=this.value.replace(/\D/g,"");c.length>=o.length&&(o=c),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&a<o.length?o.charAt(a++):a>=o.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},t=()=>{try{const e=document.querySelectorAll('[href^="#"]'),t=.15,a=e=>{let a=document.documentElement.scrollTop,c=document.querySelector(e).getBoundingClientRect().top-70,o=null;requestAnimationFrame((function e(l){null===o&&(o=l);let s=l-o,n=c<0?Math.max(a-s/t,a+c):Math.min(a+s/t,a+c);document.documentElement.scrollTo(0,n),n!=a+c&&requestAnimationFrame(e)}))};window.location.hash&&a(window.location.hash),e.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),a(this.hash)}))}))}catch(e){console.log(e.stack)}};window.addEventListener("DOMContentLoaded",(()=>{e('input[type="tel"]'),t(),(()=>{try{$(".home__promo-slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!0,appendDots:$(".home__promo-dots"),prevArrow:$(".home__promo-arrows .left"),nextArrow:$(".home__promo-arrows .right")}),$(".catalog-detail__image-main .images").slick({infinite:!1,slidesToScroll:1,dots:!0,appendDots:$(".catalog-detail__image-main .dots"),prevArrow:$(".catalog-detail__image-main .arrows .left"),nextArrow:$(".catalog-detail__image-main .arrows .right"),asNavFor:".catalog-detail__image-thumbs"}),$(".catalog-detail__image-thumbs").slick({slidesToShow:6,slidesToScroll:1,asNavFor:".catalog-detail__image-main .images",arrows:!1,focusOnSelect:!0,infinite:!1,vertical:!0,verticalSwiping:!0})}catch(e){console.log(e.stack)}try{document.querySelectorAll(".about__way-slider").forEach((e=>{const t=e.querySelectorAll(".about__way-slider-item");let a=t.length,c=Math.floor(a/2);const o=()=>{c<0&&(c=a-1),c>=a&&(c=0),t.forEach((e=>e.classList.remove("active","left","right"))),c-1>=0&&t[c-1].classList.add("left"),t[c].classList.add("active"),c+1<t.length&&t[c+1].classList.add("right")};o(),t.forEach(((e,t)=>{e.addEventListener("click",(()=>{c=t,o()}))}));let l=0;e.addEventListener("touchstart",(e=>{l=e.changedTouches[0].screenX})),e.addEventListener("touchend",(e=>{l-e.changedTouches[0].screenX>50?(c++,o()):l-e.changedTouches[0].screenX<-50&&(c--,o())}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelectorAll("form.form"),t=document.querySelector(".modal"),a=t.querySelectorAll(".modal__item"),c=t.querySelector(".modal__success");e.forEach((e=>{e.addEventListener("submit",(o=>{o.preventDefault();const l=new FormData(e);(async function(e,t){let a=await fetch(e,{method:"POST",body:t});return await a.text()})(e.action,l).then((e=>{a.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),c.classList.add("active"),document.querySelector("body").classList.add("fixed"),document.querySelector("html").classList.add("fixed")}))}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelectorAll(".elem_animate"),t=document.querySelectorAll(".text_animate");function a(e){e.forEach((e=>{(window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2)+window.scrollY>=e.getBoundingClientRect().y+window.scrollY&&e.classList.add("anim")}))}t.forEach((e=>{let t=e.textContent.trim(),a="",c=0;for(let e=0;e<t.length;e++)a+=`<i class="or" style="transition: 0.4s all ${c.toFixed(2)}s">${t[e]}</i>`,c+=.03;e.innerHTML=a})),a(e),a(t),window.addEventListener("scroll",(()=>{a(e),a(t)}))}catch(c){console.log(c.stack)}try{const o=document.querySelectorAll(".body-click-content"),l=document.querySelectorAll(".body-click-target");document.body.addEventListener("click",(e=>{if(e.target.classList.contains("body-click-target")||e.target.classList.contains("body-click-close")){e.preventDefault();let t=e.target.getAttribute("data-content")?document.querySelector('.body-click-content[data-content="'+e.target.getAttribute("data-content")+'"]'):e.target.nextElementSibling?e.target.nextElementSibling:"";o.forEach((e=>t!=e&&e.classList.contains("global-hide")?e.classList.remove("active"):"")),l.forEach((t=>t.classList.contains("global-hide")&&t!=e.target?t.classList.remove("active"):"")),t.classList.contains("body-click-content")?t.classList.toggle("active"):e.target.parentElement.classList.remove("active"),!e.target.classList.contains("not-active")&&e.target.classList.toggle("active")}else e.target.closest(".body-click-content")||(o.forEach((e=>e.classList.contains("not-global")?"":e.classList.remove("active"))),l.forEach((e=>e.classList.contains("not-active")||e.classList.contains("not-global")?"":e.classList.remove("active"))))}))}catch(s){console.log(s.stack)}try{const n=document.querySelectorAll(".parallax");if(n){const i=()=>{n.forEach((e=>{e.style.top=window.scrollY+"px"}))};i(),window.addEventListener("scroll",i),window.addEventListener("resize",i)}}catch(r){console.log(r.stack)}try{const d=document.querySelector(".modal"),m=document.querySelectorAll("[data-call-modal]"),u=document.querySelectorAll(".modal__item");m.forEach((e=>{e.getAttribute("data-call-modal")&&e.addEventListener("click",(t=>{t.preventDefault(),u.forEach((e=>e.classList.remove("active"))),d.classList.add("active"),d.querySelector('.modal__item[data-modal="'+e.getAttribute("data-call-modal")+'"]').classList.add("active"),document.querySelector("body").classList.add("fixed"),document.querySelector("html").classList.add("fixed")}))})),d.addEventListener("click",(e=>{(e.target==d||e.target.classList.contains("modal__close"))&&(u.forEach((e=>e.classList.remove("active"))),d.classList.remove("active"),document.querySelector("body").classList.remove("fixed"),document.querySelector("html").classList.remove("fixed"))}))}catch(h){console.log(h.stack)}})()}))})();